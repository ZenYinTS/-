<!DOCTYPE html>
<html lang="en">
<head>
    {% include 'header.html' %}
    <title>上传视频</title>
</head>
<body>
<div id="container">
    {% include 'nav.html' %}
    <div class="m-padded-tb-large m-opacity main">
        <div class="ui container">
            <form class="ui form" method="post" action="/manage/add/">
                {% csrf_token %}    <!-- post请求需要设置跨域请求csrf_token，否则会报错forbidden -->
                <div class="field">
                    <label>视频地址</label>
                    <input id="btnFileInput" type="file" style="display: none">
                    <input id="fileInput" name="path" type="text" placeholder="从本地选择视频" readonly required>
                </div>
                <div class="field">
                    <label>剧名</label>
                    <input type="text" name="name">
                </div>
                <div class="field">
                    <label>导演</label>
                    <input type="text" name="director">
                </div>
                <div class="field">
                    <label>主演</label>
                    <input type="text" name="starts">
                </div>
                <div class="field">
                    <label>总时长</label>

                    <input type="text" name="totalTime" placeholder="格式(99:99:99)" required>
                </div>
                <div class="field">
                    <label>全集数</label>
                    <input type="text" name="allNumber" placeholder="只能是数字" required>
                </div>
                <div class="field">
                    <label>所在集数</label>
                    <input type="text" name="number" placeholder="只能是数字" required>
                </div>
                <button class="ui teal button" type="submit">上传</button>
                <button class="ui button" type="reset">重置</button>
            </form>
            <div class="field">
                <label>{{ msg }}</label>
            </div>
        </div>
    </div>

    {% include 'footer.html' %}
</div>

{% include 'script.html' %}
<script>
    $("#fileInput").click(function () {
        $("#btnFileInput").click()
    })
    $("#btnFileInput").bind('change', function () {
        var file = $(this).val();
        //alert(file);
        if (file.length > 0) {
            $("#fileInput").val(file)
        }
    })
</script>
</body>
</html>